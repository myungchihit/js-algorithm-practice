<html>
    <head>
        <meta charset="UTF-8">
        <title>출력결과</title>
    </head>
    <body>
        <script>
            /*
                forEach, map, filter, reduce
                * 4개 모두 고차함수이다.
                * 고차함수: 매개변수에 함수값을 받는것.
            */

            a = [10, 11, 12, 13, 14, 15];

            // ================ 1. forEach ==================
            // function forEach(predicate, thisArg) 2개의 매개변수를 받는다.
            // thisArg는 생략 가능
            // 대략 forEach 내부구조를 간단하게 만들어 봄
            /*
                function forEach(predicate, thisArg){
                    for(let i=0 ; i < a.length; i++){
                        predicate(a[i], i , thisArg);  // 콜백함수를 계속 호출함.
                    }
                }
            */
            // a.forEach(function(v, i){
            //     console.log(v, i, this); // this에 [1, 2]가 바인딩된다.
            // } , [1, 2]);


            // ================ 2. map ===============
            // map은 새로운 배열을 반환한다.
            // 반환되는 원본 배열과 길이가 무조건 같다 ==> if문으로 조건을 줄 경우 조건이 if문의 false이면 undefined를 반환한다.
            /*
                function map(predicate, thisArg){
                    let list = [];
                    for(let i=0 ; i < a.length; i++){
                        list.push(predicate(a[i], i));
                    }
                    return list;
                }
            */
            // let answer = a.map(function (v, i){
            //     if(v % 2 == 0) return v;
            // }, [1,2]);
            // console.log(answer);


            // ================ 3. filter ===============
            // filter는 배열의 원소중 조건의 참인 경우의 값을 새로운 배열에 반환
            // map과는 달리 if문의 조건이 true인 값만 반환하여 원본과 배열 길이가 다를 수 있다.
            /*  
                function filter(predicate, thisArg){
                    let list = [];
                    for(let i=0 ; i < a.length; i++){
                        if(predicate(a[i], i)) list.push(a[i]); // 참인 경우에만 list에 push
                    }
                    return list;
                }
            */
            // let answer = a.filter(function (v, i){
            //     return v % 2 === 0;
            // }, [1,2]);
            // console.log(answer);


            // ================ 4. reduce ===============
            // reduce는 어떤 값을 생성해서 리턴한다.
            /*  
                function reduce(predicate, val){
                    let result = val; // 두번째 인자로 넘어온 값으로 초기화 한다.
                    for(let i=0 ; i < a.length; i++){
                        result = predicate(result, a[i]);
                    }
                    return result;
                }
            */
            let answer = a.reduce(function (acc, v){
                return acc + v;
            }, 0);  // 0으로 초기화 (초기값)
            console.log(answer);


        </script>
    </body>
</html>